---
title: "Elsevier Hybrid Open Access Analysis"
description: | 
  Data about the hybrid open access uptake is critical. Although policy recommendations have addressed open and transparent  workflows in recent years, identifying hybrid open access articles and funding sources remains challenging. In this post, we show how to mine such data from Elsevier using openly available sources and R. Between 2015 and July 2019, Elsevier's subscription journals published 63,577 hybrid open access articles, representing 2.3% of the overall publication volume of these journals.</br> A data analysis reveals a growing uptake of agreements between Elsevier and funders to cover costs for open access. Not surprisingly, mostly British and Dutch funders sponsor hybrid open access. But also the German Federal Ministry of Education and Research is well represented despite the current Elsevier boycott from most universities and research organizations in Germany. Nevertheless, the majority of funding sources is still unknown, raising important questions about the transparency of this publishing model.
date: Aug 29, 2019
author:
  - name: Najko Jahn 
    url: https://twitter.com/najkoja
    affiliation: State and University Library Göttingen
    affiliation_url: https://www.sub.uni-goettingen.de/
output: distill::distill_article
---

```{r, echo = FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  echo = FALSE
)
options(scipen = 999, digits = 2)
knitr::knit_hooks$set(
  inline = function(x) {
    if (is.numeric(x)) {
      return(prettyNum(x, big.mark = ","))
    } else{
      return(x)
    }
  }
)
library(tidyverse)
```

In September 2018, the cOAltion S, a group of international research funders including the European Commission, announced its widely discussed Plan S. According to its principles, publication fees that may arise when publishing open access should be covered by funders or research organizations. Although surveys suggest that most authors do not pay such fees out of their pockets, publishers rarely share such evidence. But also not all funding organizations and research institutions disclose open access sponsorship at the article-level.

In this blogpost, we present a dataset comprising spending information from Elsevier, a major global publisher, and contrast these figures with the overall publication volume of its subscription-based journals. The resulting dataset is openly available along with the source code.

## Data and methods

Methods follow the [Hybrid Open Access Journal Dashboard](https://subugoe.github.io/hybrid_oa_dashboard/about.html), an interactive analytical application from the SUB Göttingen. Instead of using spending data from the [Open APC Initiative](https://github.com/OpenAPC/openapc-de), the Elsevier publication fee price list shared as pdf document was used to obtain hybrid open access journals. The rOpenSci [tabulizer](https://github.com/ropensci/tabulizer) package allowed to extract the data from this file. 

<aside>
  See [fetch_apc_list.R](https://github.com/njahn82/elsevier_hybrid_volume/blob/master/R/fetch_apc_list.R) how to obtain price data 
</aside>

Next, Crossref REST API was queried to discover open access articles published in these journals, as well as to retrieve yearly article volumes for the period 2015 - 2019. Using the [rcrossref](https://docs.ropensci.org/rcrossref/) client, developed and maintained by the rOpenSci initiative, the first API call retrieved all license URLs available per journal. I also drew on facet field counts to obtain the yearly article volume per journal from Crossref. After matching license URLs indicating open access articles, a second API call checked licensing metadata per journal. Here, I excluded delayed open access articles by using the Crossref’s REST API filters `license.url` and  `license.delay`. For every immediate open access article, comprehensive Crossref metadata was obtained including links to full-texts available for text- and data-mining.

<aside>
  See [fetch_cr_md.R](https://github.com/njahn82/elsevier_hybrid_volume/blob/master/R/fetch_cr_md.R) how Crossref was called with R 
</aside>

Elsevier provides full-texts in `html` and `xml` via the [Crossref Text and Data Mining Services (Crossref-TDM)](https://support.crossref.org/hc/en-us/articles/215750183-Crossref-Text-and-Data-Mining-Services). Interfac The `xml` representation not only contains the full-text, but also comprehensive metadata including information about open access sponsorship. 

```xml
<openaccess>1</openaccess>
<openaccessArticle>true</openaccessArticle>
<openaccessType>Full</openaccessType>
<openArchiveArticle>false</openArchiveArticle>
<openaccessSponsorName>
  Arts and Humanities Research Council
</openaccessSponsorName>
<openaccessSponsorType>FundingBody</openaccessSponsorType>
<openaccessUserLicense>
  http://creativecommons.org/licenses/by/4.0/
</openaccessUserLicense>
```
 
*Snapshot of open access metadata in Elsevier XML full. <https://api.elsevier.com/content/article/pii/S1475158518302261>*

After interfacing the Elsevier full-texts with the [crminer](https://docs.ropensci.org/crminer/) package, a client maintained by rOpenSci, open access information was extracted. 

<aside>
  See [R/tdm_oa_info.R](https://github.com/njahn82/elsevier_hybrid_volume/blob/master/R/tdm_oa_info.R)
</aside>

Furthermore the first author email address was parsed using pattern matching, assuming that email domains roughly indicate the affiliation of the first respective corresponding author at the time of publication, an important data point in open access analytics. Next, I split the email domains in its parts with [urltools](https://CRAN.R-project.org/package=urltools). To avoid misuse, particularly academic spamming, only email domains are publicly shared.


<aside>
  See [R/extract_email_domains.R](https://github.com/njahn82/elsevier_hybrid_volume/blob/master/R/extract_email_domains.R)
</aside>

The resulting dataset comprises the following variables:

```{r, layout="l-body-outset", echo = TRUE}
library(rmarkdown)
hybrid_df <- readr::read_csv("data/els_hybrid_info_normalized.csv")
paged_table(head(hybrid_df, 10))
```

and is openly shared via GitHub.

## Results

In total, the dataset comprises `r nrow(hybrid_df)` hybrid open access articles from `r hybrid_df %>% distinct(issn) %>% nrow()` hybrid open access journals published between January 2015 and July 2019. 


### What is the uptake of hybrid open access among Elsevier journals?

Using this datasets, the share of hybrid open access articles per journal was calculated. To explore variations among journals,  [Bob Rudis](https://twitter.com/hrbrmstr) [ggeconodist package](https://cinc.rud.is/web/packages/ggeconodist/index.html) was used. The package does a great job replicating a boxplot aesthetics from the Economist magazine. 

<!-- To start with, we load two data files: `els_hybrid_info_normalized.csv` contains funding information at the article-level, while `data/journal_facets.json` provides figures about the yearly publication volume for every hybrid open access journal.-->


```{r, echo = FALSE}
library(tidyverse)
library(jsonlite)
library(ggeconodist)
hybrid_df <- readr::read_csv("data/els_hybrid_info_normalized.csv")
cr_facets <- jsonlite::stream_in(file("data/journal_facets.json"), verbose = FALSE)

all_per_year <- cr_facets %>%
  unnest(year_published) %>%
  rename(year = .id, article_volume = V1) %>%
  filter(year > 2014)

oa_per_year <- hybrid_df %>%
  mutate(issued_year = as.character(issued_year)) %>%
  group_by(issn, issued_year) %>%
  summarise(n = n()) %>%
  right_join(all_per_year, by = c("issn", "issued_year" = "year")) %>%
  mutate(n = ifelse(is.na(n), 0, n)) %>%
  mutate(oa_share = n / article_volume)

perc_df <- oa_per_year %>%
  filter(n != 0) %>%
 group_by(issued_year) %>% 
  summarize(median = median(oa_share),
            p_10 = quantile(oa_share, 0.1),
            p_90 = quantile(oa_share, 0.9)) %>%
  ungroup()
a_plot <- perc_df %>%
  ggplot()+
  geom_econodist(aes(x = issued_year, ymin = p_10, median = median, ymax = p_90),
         stat = "identity", show.legend = TRUE) +
  scale_y_continuous(position = "right", limits = range(0, 0.10),
                    labels =  scales::percent) +  coord_flip() +
  labs(
    x = NULL, y = NULL,
    title = "What is the uptake of hybrid open access among Elsevier journals?",
    subtitle = "Proportion of immediate open access articles published in subscription-based journals\nJan 2015 to July 2019",
    caption = "Data source: Elsevier B.V. / Crossref"
  ) +
  theme_minimal(base_family = "Roboto") +
  theme(panel.grid.minor = element_blank()) +
  theme(axis.ticks = element_blank()) +
  theme(panel.grid.major.y = element_blank()) +
  theme(panel.border = element_blank())
grid.newpage()
left_align(a_plot, c("subtitle", "title", "caption")) %>% 
  add_econodist_legend(econodist_legend_grob(family = "Roboto"), below = "subtitle") %>% 
  grid.draw()  
```

The figure shows a slow, but steady hybrid open access uptake. The median open access proportion was around `r perc_df %>% filter(issued_year == "2019") %>% .$median %>% round(2) * 100`% in the first seven months in 2019. `r hybrid_df %>% distinct(issn) %>% nrow()` of `r cr_facets %>% distinct(issn) %>% nrow()` subscription journals from Elsevier offering hybrid open access did in fact publish at least one article under this model, corresponding to an share of `r hybrid_df %>% distinct(issn) %>% nrow() / cr_facets %>% distinct(issn) %>% nrow() * 100` %. 

### Hybrid open access facilitated by institutional agreements with Elsevier

Elsevier usually requires authors to pay a publication fee, also known as article processing charge (APC) to publish open access. Many authors make use of funding from grant agencies or academic institutions to cover such fees. To streamline this process, some funding bodies and institutions have agreed central payment options for affiliated researcher. Elsevier also provides APC waivers.

```{r}
sponsored_articles <- hybrid_df %>%
  mutate(oa_sponsor_type = ifelse(is.na(oa_sponsor_type), "unknown", oa_sponsor_type)) %>%
  mutate(fct_source = fct_lump(oa_sponsor_type, prop = 0.05)) %>%
  count(issued_year, fct_source)
all_articles <- hybrid_df %>%
  group_by(issued_year) %>%
  summarise(n = n())

ggplot(sponsored_articles, aes(x = gsub("20", "", issued_year), y = n)) +
  geom_bar(
    data = all_articles,
    aes(fill = "All hybrid open access articles"),
    color = "transparent",
    stat = "identity"
  ) +
  geom_bar(aes(fill = "by type of recipient"), color = "transparent", stat = "identity") +
  facet_wrap( ~ fct_source, nrow = 1) +
  scale_fill_manual(values = c("#b3b3b3a0", "#56B4E9"), name = "") +
  labs(x = "Year", y = "Hybrid OA Articles (Total)", title = "Elsevier Hybrid Open Access:\nTo whom did the publisher send the bill?",
       caption = "Data source: Elsevier B.V. / Crossref") +
  scale_y_continuous(labels = scales::number_format(big.mark = " ")) +
  theme_minimal(base_family="Roboto", base_size = 12) +
  theme(panel.grid.minor=element_blank()) +
  theme(axis.ticks=element_blank()) +
  theme(panel.grid.major.x=element_blank()) +
  theme(panel.border=element_blank()) +
  theme(legend.position="top", legend.justification = "right")
```

In most cases, payment notifications were send to the authors paid directly `r round(hybrid_df %>% filter(oa_sponsor_type == "Author") %>% nrow() / nrow(hybrid_df) * 100, 2)` %. Elsevier lists a funding body covering the open access publication fee for around one third of articles. 

The following interactive visualization let's you browse for funders as disclosed by Elsevier.

```{r}
library(echarts4r)
hybrid_df %>% 
  replace_na(list(oa_sponsor_name = "unknown", oa_sponsor_type = "unknown")) %>%
  count(oa_sponsor_name, oa_sponsor_type) %>%
    e_charts() %>%
    e_treemap(oa_sponsor_type, oa_sponsor_name, n, leafDepth = "1",
              name = "APC Source") %>%
    e_tooltip(trigger = "item") %>%
    e_title("Elsevier Hybrid Open Access: APC Billing Recipients")
```

Mostly British and Dutch funders sponsored hybrid open access in Elsevier journals. But also the German Federal Ministry of Education and Research (BMBF) is well represented despite the [current boycott from most universities and research organizations in Germany](https://www.nature.com/articles/d41586-018-05754-1). Since 2018, the BMBF financially supported `r hybrid_df %>% filter(grepl("BMBF", oa_sponsor_name)) %>% nrow()` hybrid open access articles that appeared in `r hybrid_df %>% filter(grepl("BMBF", oa_sponsor_name)) %>% distinct(issn) %>% nrow()` Elsevier journals according to the publisher.

### Author affiliation

In addition to funding information, email domains were parsed from Elsevier full-texts. These domains roughly indicate the affiliation of the first or of the corresponding authors, respectively, a data point used to delineate open access funding. In the following, a hierarchical, interactive treemap visualizes the distribution of the email domains. Each top-level domain can be subdivided further into domain names representing academic institutions or companies. The size of each rectangle is proportional to the number of hybrid open access articles corresponding to this domain.

```{r}
library(echarts4r)
hybrid_df %>% 
  mutate(domain = ifelse(!is.na(domain), paste(domain, suffix, sep ="."), NA)) %>%
  replace_na(list(suffix = "unknown", domain = "unknown")) %>%
  count(suffix, domain) %>%
    e_charts() %>%
    e_treemap(suffix, domain, n, leafDepth = "1",
              name = "Email Domain") %>%
    e_tooltip(trigger = "item") %>%
    e_title("Email Domains from First / Corresponding Author
")

```

## Discussion and conclusion



